(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{31142:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invited-attendee",function(){return n(52403)}])},54978:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(85893),a=(n(67294),n(48847)),o=n(9783),i=function(e){var t=e.className,n=e.content,i=e.contentBeforeIcon,c=e.footer,s=e.icon,u=e.title,l=e.titleAfterIcon,f=function(){return(0,r.jsx)("div",{className:"my-3",children:n})};return(0,r.jsxs)("div",{className:(0,a.WM)("flex flex-col justify-center items-center text-center",t),children:[!l&&(0,r.jsx)(o.X,{children:u}),i&&(0,r.jsx)(f,{}),s&&(0,r.jsx)("div",{className:l||i?"mb-10":"mt-10",children:s}),l&&(0,r.jsx)(o.X,{children:u}),!i&&(0,r.jsx)(f,{}),c&&c]})}},52403:function(e,t,n){"use strict";n.r(t);var r=n(34051),a=n.n(r),o=n(85893),i=n(11163),c=n(67294),s=n(54978),u=n(23074),l=n(48498),f=n(31199),h=n(61321),d=n(1438),p=n(51502),v=n(93709),m=n(1107);function g(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,c,"next",e)}function c(e){g(o,r,a,i,c,"throw",e)}i(void 0)}))}}t.default=function(){var e=(0,i.useRouter)(),t=(0,c.useState)(!1),n=t[0],r=t[1],g=(0,c.useState)(""),b=g[0],x=g[1],y=(0,c.useState)(null),k=(y[0],y[1]),j=(0,c.useState)(null),S=j[0],N=j[1],O=(0,c.useState)(""),P=O[0],C=O[1],T=(0,c.useState)(!1),_=T[0],E=T[1];(0,c.useEffect)((function(){var t=e.query.token;t&&v.Z.authenticateVisitorOrPatient(t).then((function(e){var t=e;function n(){return(n=w(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.Z.fetchTelehealthVisitForPatient(e,e.visitId);case 2:return r=n.sent,console.log(t),k(t),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return k(t),p.Z.saveToStorage(d.sL,e),console.log(t),function(){return n.apply(this,arguments)}()})).then((function(t){if(N(t),t){p.Z.saveToStorage(d.LX,t);var n=function(){var t=w(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Z.getFromStorage(d.sL);case 2:n=t.sent,console.log(n),n&&"providervisitor"==n.role?e.push("/invited-attendee/technical-check/"):r(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}}))}),[e]);var I=function(){var t=w(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b){t.next=8;break}return t.next=3,p.Z.getFromStorage(d.sL);case 3:return(n=t.sent).name=b,t.next=7,p.Z.saveToStorage(d.sL,n);case 7:e.push("/invited-attendee/technical-check/");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return n&&(0,o.jsx)(f.Ar,{children:(0,o.jsx)(s.b,{title:"Welcome",content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"mb-6",children:["Thanks for coming to support ",S.ehrPatient.given_name," ",S.ehrPatient.family_name,". Please share some information about yourself below for ",S.ehrProvider.name,":"]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)(l.I,{className:"w-full my-2",autoFocus:!0,placeholder:"Full Name",name:"name",value:b,onChange:function(e){return x(e.target.value)}}),(0,o.jsx)(h.P,{className:"w-full my-2",placeholder:"Relationship with Patient",options:[{value:"Spouse"},{value:"Mother"},{value:"Father"},{value:"Daughter"},{value:"Son"},{value:"Brother"},{value:"Sister"},{value:"Friend"},{value:"Care Giver"},{value:"Other"}],name:"relationship",onChange:function(e){return C(e.target.value)},value:P}),(0,o.jsx)("div",{className:"text-left",children:(0,o.jsxs)("label",{className:"text-light",children:[(0,o.jsx)("input",{type:"checkbox",name:"terms",onChange:function(e){return E(e.target.checked)},checked:_})," I agree to the Terms & Conditions"]})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(u.z,{disabled:!_||""==b,as:"button",onClick:I,className:"inline-block w-full mt-3 mb-1",children:"Continue"}),(0,o.jsx)("a",{className:"text-link",children:"Terms & Conditions"})]})]})]})})})}},93709:function(e,t,n){"use strict";function r(e){this.message=e}n.d(t,{Z:function(){return h}}),r.prototype=new Error,r.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,o=0,i=0,c="";a=t.charAt(i++);~a&&(n=o%4?64*n+a:a,o++%4)?c+=String.fromCharCode(255&n>>(-2*o&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return c};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return a(t)}}function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError";var c=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}},s=n(43820);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e){return e.replace("\xa7","_")}var h={authenticateVisitorOrPatient:function(e){return fetch(s.X.get(s.X.visits.token),{method:"POST",body:JSON.stringify({action:"TOKEN",passcode:f(e)}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=c(e.token);return l({},t,{isAuthenticated:!0,token:e.token,name:t.name,id:t.id})}))},authenticatePractitioner:function(e){return fetch(s.X.get(s.X.visits.token),{method:"POST",body:JSON.stringify({action:"TOKEN",passcode:f(e)}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=c(e.token);return l({},t,{isAuthenticated:!0,token:e.token,name:t.name,id:t.id})}))}}}},function(e){e.O(0,[816,221,592,20,283,855,419,199,774,888,179],(function(){return t=31142,e(e.s=t);var t}));var t=e.O();_N_E=t}]);