"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{90961:function(e,t,r){r.d(t,{P:function(){return c}});var n=r(67294),i=r(1438),a=r(15428),o=r(5909),s=r(45067);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){var e=(0,a.Z)().localTracks.find((function(e){return"video"===e.kind})),t=(0,o.Z)(e),r=(0,s.Z)().videoInputDevices,c=(0,n.useState)(!1),u=c[0],d=c[1],p=u&&r.length>1,f=(0,n.useCallback)((function(){var r="user"===(null===t||void 0===t?void 0:t.getSettings().facingMode)?"environment":"user";null===e||void 0===e||e.restart(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},i.lA,{facingMode:r}))}),[t,e]);return(0,n.useEffect)((function(){(null===t||void 0===t?void 0:t.getSettings().facingMode)&&!1===u&&d(!0)}),[t,u]),[f,p]}},75112:function(e,t,r){r.d(t,{l:function(){return u}});var n=r(85893),i=r(67294),a=r(42283),o=r(48847),s=function(e){var t=e.children,r=e.pattern,i=e.required;return(0,n.jsxs)("div",{className:"font-bold text-sm text-primary",children:[i&&"Required",r===o.aK&&"Letters only",r===o.CU&&"Email address must be valid",r===o._D&&"Phone number must be valid",r===o.G3&&"Zip must be valid",t]})};function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}var u=function(e){var t=e.className,r=e.defaultValues,l=void 0===r?{}:r,u=e.children,d=e.onChange,p=void 0===d?null:d,f=e.onSubmit,m=(0,a.cI)({defaultValues:l}),v=m.watch,h=m.register,x=m.handleSubmit,b=m.formState.errors;return(0,i.useEffect)((function(){var e=v((function(e,t){t.name,t.type;p&&p(e)}));return function(){return e.unsubscribe()}}),[p,v]),(0,n.jsx)("form",{className:(0,o.WM)(t),onSubmit:x(f),children:i.Children.map(u,(function(e){var t,r,a;return(null===e||void 0===e?void 0:e.props.name)?(0,n.jsxs)(n.Fragment,{children:[i.createElement(e.type,c({},c({},e.props,{register:h,key:e.props.name}))),(null===(t=e.props.registerOptions)||void 0===t?void 0:t.required)&&b[e.props.name]&&"required"===b[e.props.name].type&&(0,n.jsx)(s,{required:!0}),(null===(r=e.props.registerOptions)||void 0===r?void 0:r.pattern)&&b[e.props.name]&&"pattern"===b[e.props.name].type&&(0,n.jsx)(s,{pattern:null===(a=e.props.registerOptions)||void 0===a?void 0:a.pattern})]}):e}))})}},3130:function(e,t,r){r.d(t,{l:function(){return n.l}});var n=r(75112)},31199:function(e,t,r){r.d(t,{Xy:function(){return u},tL:function(){return y},pi:function(){return g},Ar:function(){return N},pm:function(){return w},ls:function(){return te}});var n=r(85893),i=function(e){var t=e.name,r=void 0===t?"Cloud City Healthcare":t;return(0,n.jsx)("div",{className:"flex items-center justify-center h-16 w-full bg-white shadow-patientHeader",children:(0,n.jsx)("h1",{className:"font-bold text-2xl text-primary",children:r})})},a=r(67294),o=r(23074),s=r(3130),l=r(39716),c=r(18657),u=function(e){var t=e.onSubmit,r=(0,a.useState)(""),i=r[0],u=r[1],d=(0,a.useState)(""),p=d[0],f=d[1],m=(0,a.useState)(""),v=m[0],h=m[1],x=(0,a.useState)([{name:"Attached_File_Name.jpg"}]),b=x[0];x[1];return(0,n.jsxs)(s.l,{className:"flex flex-col h-full px-4",onSubmit:function(e){t({conditions:i,medications:p,reason:v,files:b})},children:[(0,n.jsx)("p",{className:"text-center text-dark",children:"Tell the doctor a little more about why you\u2019re visiting today"}),(0,n.jsx)(c.g,{className:"my-2",placeholder:"Preexisting Conditions",setText:u,required:!0}),(0,n.jsx)(c.g,{className:"my-2",placeholder:"Current Medications",setText:f,required:!0}),(0,n.jsx)(c.g,{className:"my-2",placeholder:"Reason for visit (symptoms, etc - this is optional)",setText:h}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"my-3 text-dark",children:"Would you like to share a file, such as a photo, form, or test result?"}),(0,n.jsxs)("div",{className:"mx-auto max-w-[300px]",children:[b.map((function(e,t){return(0,n.jsxs)("a",{className:"flex rounded-lg my-3 border border-link py-3 px-4 text-link text-xs items-center cursor-pointer",download:!0,children:[(0,n.jsx)("span",{className:"flex-grow underline",children:e.name}),(0,n.jsx)(l.J,{name:"close",outline:!0})]},t)})),(0,n.jsxs)("a",{className:"text-link text-xs flex items-center",children:[(0,n.jsx)(l.J,{name:"add",outline:!0})," Attach a File"]})]})]}),(0,n.jsx)("div",{className:"mt-5 text-center",children:(0,n.jsxs)("label",{className:"text-light",children:[(0,n.jsx)("input",{type:"checkbox"})," I agree to the Terms & Conditions"]})}),(0,n.jsx)("div",{className:"my-5 mx-auto max-w-[250px] w-full",children:(0,n.jsx)(o.z,{type:"submit",className:"w-full",children:"Continue"})})]})},d=r(75112),p=r(48847),f=r(48498);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var x=function(e){e.className;var t=e.label,r=e.name,i=e.register,a=e.registerOptions,o=e.value,s=h(e,["className","label","name","register","registerOptions","value"]);return(0,n.jsxs)("label",{className:"flex items-center my-1",children:[(0,n.jsx)("input",v({className:"ml-3 mr-2",type:"radio",name:r,value:o},i?i(r,a):{},s)),t]})},b=r(61321),y=function(e){var t=e.onSubmit,r=(0,a.useState)({}),i=r[0],s=r[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-dark",children:"This will be shared with your doctor."}),(0,n.jsxs)(d.l,{className:"flex flex-col h-full",onChange:s,onSubmit:t,children:[(0,n.jsx)(f.I,{className:"my-2",name:"firstName",placeholder:"First Name",registerOptions:{required:!0,pattern:p.aK}}),(0,n.jsx)(f.I,{className:"my-2",name:"lastName",placeholder:"Last Name",registerOptions:{required:!0,pattern:p.aK}}),(0,n.jsx)(f.I,{className:"my-2",name:"phoneNumber",placeholder:"Phone Number",registerOptions:{required:!0,pattern:p._D}}),(0,n.jsx)(f.I,{type:"email",name:"email",className:"my-2",placeholder:"Email",registerOptions:{required:!0,pattern:p.CU}}),(0,n.jsx)("div",{className:"mt-3",children:"Will you need a translator?"}),(0,n.jsx)(x,{name:"needTranslator",label:"No",value:"No"}),(0,n.jsx)(x,{name:"needTranslator",label:"Yes",value:"Yes"}),"Yes"===i.needTranslator&&(0,n.jsx)(b.P,{className:"my-2",placeholder:"Language",options:[{value:"Arabic"},{value:"Chinese"},{value:"French"},{value:"German"},{value:"Indonesian"},{value:"Italian"},{value:"Japanese"},{value:"Korean"},{value:"Portuguese"},{value:"Russian"},{value:"Spanish"},{value:"Other"}],name:"language"}),(0,n.jsx)("div",{className:"mt-4",children:"I am"}),(0,n.jsx)(x,{name:"gender",label:"Male",value:"Male"}),(0,n.jsx)(x,{name:"gender",label:"Female",value:"Female"}),(0,n.jsx)(x,{name:"gender",label:"Other",value:"Other"}),(0,n.jsx)("div",{className:"my-5 mx-auto max-w-[250px] w-full",children:(0,n.jsx)(o.z,{type:"submit",className:"w-full",children:"Continue"})})]})]})},g=function(e){var t=e.onSubmit;return(0,n.jsxs)(s.l,{className:"flex flex-col h-full",onSubmit:t,children:[(0,n.jsx)("div",{className:"mt-2",children:"Do you have insurance?"}),(0,n.jsx)(x,{name:"haveInsurance",label:"Yes",value:"Yes"}),(0,n.jsx)(x,{name:"haveInsurance",label:"No",value:"No"}),(0,n.jsx)(f.I,{className:"my-2",placeholder:"Member ID",name:"memberId"}),(0,n.jsx)(b.P,{className:"my-2",name:"healthPlan",placeholder:"Health Plan",options:[{value:"Plan 1"}]}),(0,n.jsx)("div",{className:"mt-2",children:"Are you the primary member?"}),(0,n.jsx)(x,{name:"isPrimaryMember",label:"Yes",value:"Yes"}),(0,n.jsx)(x,{name:"isPrimaryMember",label:"No",value:"No"}),(0,n.jsx)("div",{className:"my-5 mx-auto max-w-[250px] w-full",children:(0,n.jsx)(o.z,{type:"submit",className:"w-full",children:"Continue"})})]})},j=r(9783),P=r(57871),N=function(e){var t=e.children,r=e.title;return(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsx)("div",{children:(0,n.jsx)(i,{})}),(0,n.jsxs)("div",{className:"max-w-sm w-full mx-auto flex flex-grow justify-center md:items-center lg:items-center xl:items-center",children:[r&&(0,n.jsx)(j.X,{children:r}),(0,n.jsx)("div",{children:t})]}),(0,n.jsx)("footer",{className:"pt-2 pb-5",children:(0,n.jsx)(P.O,{className:"mx-auto"})})]})},w=function(e){e.onSubmit;var t=(0,a.useRef)(null);return(0,n.jsxs)("div",{className:"border-2 border-primary rounded-md flex flex-col items-center justify-center h-[225px] w-[225px] cursor-pointer",onClick:function(){var e;return null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.click()},children:[(0,n.jsx)("img",{alt:"Upload Image",className:"mb-6",src:"/icons/upload.svg",height:48,width:69}),(0,n.jsx)("input",{ref:t,className:"hidden",type:"file",accept:"image/*"}),(0,n.jsx)("div",{className:"text-primary",children:"Upload Image"}),(0,n.jsx)("div",{className:"text-dark",children:"Size limit: 4mb"})]})},O=r(51582),S=r(4051),k=r(15428);var C=r(63020),A=r(49738),I=r(31659),T=r(67872),V=r(76595),E=r(328),M=r(2654),D=r(17624),Z=r(27161),F=r(40720),_=r(8229),U=r(6857),q=r(7035);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}var z=function(e){var t=e.name,r=e.hasAudio,i=e.hasVideo,o=e.isProvider,s=e.isOverlap,c=e.isSelf,u=e.participant,d=(e.carouselScreen,e.participantsCount),f=e.setDataTrackMessage,m=(0,a.useState)(null),v=m[0],h=m[1],x=(0,a.useState)(!1),b=x[0],y=x[1],g=(0,a.useState)(r),j=g[0],P=g[1],N=(0,a.useState)(i),w=N[0],S=N[1],C=L((0,F.Z)(),2),A=(C[0],C[1]),I=(0,_.Z)(),T=(0,U.Z)(),W=L((0,q.ZP)(),1)[0],Y=(0,k.Z)(),z=Y.room,J=(Y.localTracks,z.localParticipant),H=(0,O.R)(),K=H.user,B=(H.visit,(0,M.Z)(u)),Q=B.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),G=B.find((function(e){return e.trackName.includes("screen")})),X=B.find((function(e){return"audio"===e.kind})),$=B.find((function(e){return"data"===e.kind})),ee=(0,E.Z)(Q||G),te=(0,E.Z)(X),re=(0,E.Z)($),ne=Boolean(ee),ie=(0,D.Z)(te),ae=(0,Z.Z)(re),oe=T!==W&&T!==I||T===J?null:"high",se=s?"w-[92px]":o?"w-[405px]":"w-[274px]",le=s?"h-[122px]":o?"h-[234px]":"h-[364px]";switch(d){case 3:se="w-[200px]",le="h-[300px]";break;case 4:se="w-[133px]",le="h-[200px]"}return(0,a.useEffect)((function(){A()}),[A]),(0,a.useEffect)((function(){ae&&(f(ae),ae.participantId==J.identity&&void 0!=ae.isMuted&&A())}),[ae]),(0,a.useEffect)((function(){if("visitor"==K.role||"providervisitor"==K.role){var e=L(R(z.localParticipant.dataTracks.values()),1)[0];if(e){var t={participantId:K.id,name:K.name};f(t),e.track.send(JSON.stringify(t))}}}),[re]),(0,a.useEffect)((function(){P(!ie)}),[ie]),(0,a.useEffect)((function(){S(!!ne)}),[ne]),(0,a.useEffect)((function(){var e;return j?(h(!0),e=setTimeout((function(){h(!1),clearTimeout(e)}),3e3)):h(!1),function(){return clearTimeout(e)}}),[j]),(0,n.jsxs)("div",{className:"mx-auto relative w-max group",children:[!c&&(0,n.jsx)("div",{className:"absolute inset-0 text-right w-full flex justify-end group-hover:bg-gradient-to-b from-gray-700 via-transparent to-transparent",children:(0,n.jsx)("div",{className:(0,p.WM)("p-1",!b&&"hidden group-hover:block"),children:(0,n.jsx)("button",{className:(0,p.WM)("border-0 bg-transparent rotate-45 p-2",b?"text-primary":"text-white"),onClick:function(){return y(!b)},children:(0,n.jsx)(l.J,{name:"push_pin",outline:!b})})})}),v&&c&&(0,n.jsx)("div",{className:"absolute top-0 bottom-0 left--2 right--2 flex items-center justify-center w-full rounded-lg z-30",children:(0,n.jsx)("div",{className:"bg-[#000000BF] text-white h-min text-center flex-grow py-4",children:"You have been muted"})}),(0,n.jsxs)("div",{className:"flex items-center justify-center bg-dark text-white text-2xl overflow-hidden ".concat(le," ").concat(se),children:[!w&&t,w&&(0,n.jsx)(V.Z,{participant:u,videoOnly:!1,enableScreenShare:T!==J,videoPriority:oe,isLocalParticipant:c})]}),(0,n.jsxs)("div",{className:"absolute bottom-0 right-0 text-white bg-[#00000082] px-2 py-1 flex items-center",children:[(0,n.jsx)(l.J,{className:(0,p.WM)("text-md",j&&"text-primary"),name:"mic"}),w?t:(0,n.jsx)(l.J,{className:"text-md text-primary",name:"videocam_off"})]})]})},J=r(610),H=r(32291);var K=r(3738),B=r(11163),Q=r(90961),G=r(41212);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=function(){q(!U)},r=function(){Z(!D)},i=function(){return(me.providerParticipant?1:0)+(me.patientParticipant?1:0)+(me.visitorParticipant?1:0)+(me.providerVisitorParticipant?1:0)},s=(0,B.useRouter)(),l=ee((0,F.Z)(),2),c=l[0],u=l[1],d=(0,a.useState)(null),p=d[0],f=d[1],m=(0,a.useState)("Patient Visitor"),v=m[0],h=m[1],x=(0,a.useState)("Provider Visitor"),b=x[0],y=x[1],g=(0,a.useState)(null),j=g[0],N=g[1],w=ee((0,H.Z)(),2),V=w[0],E=w[1],M=(0,a.useState)(!1),D=M[0],Z=M[1],_=(0,a.useState)(!1),U=_[0],q=_[1],W=(0,a.useState)(!1),L=W[0],R=W[1],Y=function(){var e=(0,k.Z)().room,t=(0,a.useState)("disconnected"),r=t[0],n=t[1];return(0,a.useEffect)((function(){if(e){var t=function(){return n(e.state)};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}}),[e]),r}(),X=(0,O.R)(),te=X.user,re=X.visit,ne=(0,S.Z)(),ie=(0,k.Z)().room,ae=(0,J.Z)(),oe=ae.setIsChatWindowOpen,se=ae.isChatWindowOpen,le=function(e){var t=(0,a.useState)(null),r=t[0],n=t[1];return(0,a.useEffect)((function(){if(e){var t=function(e){return n(e)};return n(e.localParticipant.networkQualityLevel),e.localParticipant.on("networkQualityLevelChanged",t),function(){e.localParticipant.off("networkQualityLevelChanged",t)}}}),[e]),r}(ie),ce=(0,a.useState)(null),ue=ce[0],de=ce[1],pe=(0,a.useRef)(null),fe=(0,a.useState)({patientName:null,providerName:null,visitorName:null,patientParticipant:null,providerParticipant:null,visitorParticipant:null,providerVisitorParticipant:null}),me=fe[0],ve=fe[1],he=ee((0,Q.P)(),2),xe=he[0],be=he[1];(0,a.useEffect)((function(){p&&(p.name&&(me.visitorParticipant&&me.visitorParticipant.identity==p.participantId&&h(p.name),me.providerVisitorParticipant&&me.providerVisitorParticipant.identity==p.participantId&&y(p.name)),N(G.U.getChatUsers(te,ie,ne,re,v,b)))}),[p]),(0,a.useEffect)((function(){if(ie){var e=G.U.getProvider(te,ie,ne,re);ve((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$(e,t,r[t])}))}return e}({},e,{patientParticipant:G.U.getPatient(te,ie,ne,re),providerParticipant:G.U.getProvider(te,ie,ne,re),visitorParticipant:G.U.getPatientVisitor(te,ie,ne,re),providerVisitorParticipant:G.U.getProviderVisitor(te,ie,ne,re)})})),N(G.U.getChatUsers(te,ie,ne,re,v,b));var t=function(){console.log(me),me.providerParticipant||(ie.disconnect(),s.push("/patient/visit-survey/"))};if(ie&&e)return ie.on("participantDisconnected",t),function(){ie.off("participantDisconnected",t)}}}),[ne,ie]),(0,a.useEffect)((function(){1===le||0===le?ue||de(setTimeout((function(){return R(!0)}),1e4)):ue&&(clearTimeout(ue),de(null))}),[le,ue]);var ye={height:"200px"};return pe&&pe.current&&(ye.height="".concat(pe.current.offsetHeight-293,"px")),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{ref:pe,className:"bg-secondary flex flex-col h-full w-full items-center overflow-x-hidden overflow-y-scroll",children:[(0,n.jsx)("div",{className:"py-5",children:(0,n.jsx)(P.O,{inverted:!0})}),"connected"==Y?se?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("div",{className:"relative",children:[me.providerParticipant&&(0,n.jsx)(z,{name:re.ehrProvider.name,hasAudio:!0,hasVideo:!0,isProvider:!0,isSelf:!1,participant:me.providerParticipant,setDataTrackMessage:f}),(0,n.jsxs)("div",{className:"absolute top-1 right-4 flex",children:[me.patientParticipant&&(0,n.jsx)(z,{name:"".concat(re.ehrPatient.given_name," ").concat(re.ehrPatient.family_name),hasAudio:"patient"!=te.role||c,hasVideo:"patient"!=te.role||V,isOverlap:!0,isSelf:"patient"==te.role,participant:me.patientParticipant,setDataTrackMessage:f}),me.visitorParticipant&&(0,n.jsx)(z,{name:v,hasAudio:"visitor"!=te.role||c,hasVideo:"visitor"!=te.role||V,isOverlap:!0,isSelf:"visitor"==te.role,participant:me.visitorParticipant,setDataTrackMessage:f}),me.providerVisitorParticipant&&(0,n.jsx)(z,{name:b,hasAudio:"providervisitor"!=te.role||c,hasVideo:"providervisitor"!=te.role||V,isOverlap:!0,isSelf:"providervisitor"==te.role,participant:me.providerVisitorParticipant,setDataTrackMessage:f})]}),(0,n.jsx)(o.z,{className:"absolute left-4 bottom-3",icon:"chat_bubble",variant:o.W.tertiary,onClick:function(){oe(!se),u()}})]})}),(0,n.jsx)("div",{className:"w-full bottom-0 absolute",style:ye,children:(0,n.jsx)(C.e,{close:function(){u(),oe(!1)},showHeader:!0,otherUser:re.ehrProvider.name,users:j,userId:te.id,userRole:te.role,inputPlaceholder:"Message to ".concat(re.ehrProvider.name)})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-evenly h-full",children:[me.patientParticipant&&!me.visitorParticipant&&!me.providerVisitorParticipant&&(0,n.jsx)(z,{name:"".concat(re.ehrPatient.given_name," ").concat(re.ehrPatient.family_name),hasAudio:"patient"!=te.role||c,hasVideo:"patient"!=te.role||V,isSelf:!0,isProvider:!1,participant:me.patientParticipant,setDataTrackMessage:f}),me.patientParticipant&&(me.visitorParticipant||me.providerVisitorParticipant)&&(0,n.jsxs)("div",{className:"flex flex-col flex-wrap overflow-x-hidden  w-[400px] "+(3==i()?"h-[300px]":"h-[200px]"),children:[me.patientParticipant&&(0,n.jsx)(z,{name:"".concat(re.ehrPatient.given_name," ").concat(re.ehrPatient.family_name),hasAudio:"patient"!=te.role||c,hasVideo:"patient"!=te.role||V,isSelf:"patient"==te.role,isProvider:!1,participant:me.patientParticipant,carouselScreen:!0,participantsCount:i(),setDataTrackMessage:f}),me.visitorParticipant&&(0,n.jsx)(z,{name:v,hasAudio:"visitor"!=te.role||c,hasVideo:"visitor"!=te.role||V,isOverlap:!0,isProvider:!1,isSelf:"visitor"==te.role,participant:me.visitorParticipant,carouselScreen:!0,participantsCount:i(),setDataTrackMessage:f}),me.providerVisitorParticipant&&(0,n.jsx)(z,{name:b,hasAudio:"providervisitor"!=te.role||c,hasVideo:"providervisitor"!=te.role||V,isOverlap:!0,isProvider:!1,isSelf:"providervisitor"==te.role,participant:me.providerVisitorParticipant,carouselScreen:!0,participantsCount:i(),setDataTrackMessage:f})]}),me.providerParticipant&&(0,n.jsx)(z,{name:re.ehrProvider.name,hasAudio:!0,hasVideo:!0,isProvider:!0,isSelf:!1,participant:me.providerParticipant,setDataTrackMessage:f})]}),se&&(0,n.jsx)(o.z,{icon:"chat_bubble_outline",onClick:function(){return oe(!se)}})]}),!se&&(0,n.jsx)(T.H,{containerClass:"mb-5 bg-[#FFFFFF4A] rounded-lg",isMuted:!c,isVideoStopped:!V,addParticipant:r,flipCamera:be?xe:null,toggleChat:function(){oe(!se),u()},toggleVideo:E,toggleAudio:u,toggleEndCallModal:t})]}):(0,n.jsx)(n.Fragment,{})]}),(0,n.jsx)(A.N,{close:function(){return R(!1)},isVisible:L}),(0,n.jsx)(I.L,{close:r,isVisible:D,role:"visitor"}),(0,n.jsx)(K.B,{close:t,isVisible:U,isProvider:!1})]})}},18657:function(e,t,r){r.d(t,{g:function(){return s}});var n=r(85893),i=r(48847);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=function(e){var t=e.className,r=e.name,s=e.register,l=e.registerOptions,c=e.setText,u=o(e,["className","name","register","registerOptions","setText"]);return(0,n.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({onChange:function(e){return c(e.target.value)},className:(0,i.WM)("px-3 py-2 border border-light rounded-md",t)},s?s(r,l):{},u))}}}]);